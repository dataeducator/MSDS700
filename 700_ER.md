erDiagram
   %%Entities%%
    
    CUSTOMER {
        int CustomerID PK
        string Name
        string Address
        string Phone
        string Email
        string DriverLicenseNumber
        date DateOfBirth
        int Age "Derived"
    }

    BOOKING {
        int BookingID PK
        int CustomerID FK
        int CarID FK
        int BranchID FK
        date StartDate
        date EndDate
        string Status
    }

    CAR {
        int CarID PK
        string LicensePlate
        string Make
        string Model
        int Year
        string Status
        int Mileage
    }

    BRANCH {
        int BranchID PK
        string BranchName
        string Address
        string City
        string Phone
    }

    PAYMENT {
        int PaymentID PK
        int BookingID FK
        date PaymentDate
        decimal Amount
        string Method
    }

    SERVICE {
        int ServiceID PK
        string ServiceName
        decimal ServiceCost
    }

    %% Associative Entity for Booking <-> Service
    BOOKING_SERVICE {
        int BookingID PK, FK
        int ServiceID PK, FK
    }

    MAINTENANCE {
        int MaintenanceID PK
        int CarID FK
        int MechanicID FK
        date Date
        string Description
        decimal Cost
    }

    MECHANIC {
        int MechanicID PK
        string Name
        string Phone
        string Specialty
    }

    %% Relationships
    CUSTOMER ||--o{ BOOKING : places
    BRANCH ||--o{ BOOKING : manages
    CAR ||--o{ BOOKING : "reserved for"
    
    BOOKING ||--o{ PAYMENT : generates
    
    %% Many-to-Many Resolution
    BOOKING ||--|{ BOOKING_SERVICE : includes
    SERVICE ||--|{ BOOKING_SERVICE : "provided in"

    CAR ||--o{ MAINTENANCE : undergoes
    MECHANIC ||--o{ MAINTENANCE : performs
